

sequenceDiagram
    participant Staker
    participant StateManager
    participant VoteManager
    participant JobsManager
    participant BlockManager

    Staker->>StateManager: Check current state
    StateManager->>Staker: Commit state
    Staker->>VoteManager: commit(epoch, commitment)
    VoteManager->>VoteManager: Store commitment
    StateManager->>Staker: Reveal state
    Staker->>VoteManager: reveal(epoch, results, signature)
    VoteManager->>JobsManager: Verify job results
    JobsManager->>VoteManager: Confirm results
    VoteManager->>VoteManager: Process revealed votes
    VoteManager->>BlockManager: Submit processed votes


